#  ğŸ·ï¸ äºŒå‰æœç´¢æ ‘çš„æ¦‚å¿µ
 äºŒå‰æœç´¢æ ‘ (BsT,BinarySearchTree) ä¹Ÿç§°äºŒå‰æ’åºæ ‘æˆ–äºŒå‰æŸ¥æ‰¾æ ‘ 
 äºŒå‰æœç´¢æ ‘ï¼šä¸€æ£µäºŒå‰æ ‘ï¼Œå¯ä»¥ä¸ºç©ºï¼›å¦‚æœä¸ä¸ºç©ºï¼Œ
 æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š 
 1. éç©ºå·¦å­æ ‘çš„æ‰€æœ‰é”®å€¼å°äºå…¶æ ¹ç»“ç‚¹çš„é”®å€¼ã€‚ 
 2. éç©ºå³å­æ ‘çš„æ‰€æœ‰é”®å€¼å¤§äºå…¶æ ¹ç»“ç‚¹çš„é”®å€¼ã€‚ 
 3. å·¦ã€å³å­æ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘
---
# ğŸ·ï¸  äºŒå‰æœç´¢æ ‘æ“ä½œ

##  ğŸ“Œ æˆ‘ä»¬æœ‰å¦‚ä¸‹ï¼Œæœç´¢äºŒå‰æ ‘
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d6a453cce6a54a4882189d16abcf57b5.png)



## ğŸ“Œ äºŒå‰æœç´¢æ ‘çš„æŸ¥æ‰¾

aã€ä»æ ¹å¼€å§‹æ¯”è¾ƒï¼ŒæŸ¥æ‰¾ï¼Œæ¯”æ ¹å¤§åˆ™å¾€å³è¾¹èµ°æŸ¥æ‰¾ï¼Œæ¯”æ ¹å°åˆ™å¾€å·¦è¾¹èµ°æŸ¥æ‰¾ã€‚

bã€æœ€å¤šæŸ¥æ‰¾é«˜åº¦æ¬¡ï¼Œèµ°åˆ°åˆ°ç©ºï¼Œè¿˜æ²¡æ‰¾åˆ°ï¼Œè¿™ä¸ªå€¼ä¸å­˜åœ¨ã€‚

```c++
        // æŸ¥æ‰¾
        bool Find(const K& key) {
             Node* cur = _root;
            while (cur) {
             if (cur -> _key < key) {
                cur = cur -> _right;
             }   
             else if (cur -> _key > key) {
                cur = cur -> _left;
             }
             else {
                return true;
             }
            } 
            return false;
        }
```

## ğŸ“Œ  äºŒå‰æœç´¢æ ‘çš„æ’å…¥

æ’å…¥çš„å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š

a. æ ‘ä¸ºç©ºï¼Œåˆ™ç›´æ¥æ–°å¢èŠ‚ç‚¹ï¼Œèµ‹å€¼ç»™rootæŒ‡é’ˆ

b. æ ‘ä¸ç©ºï¼ŒæŒ‰äºŒå‰æœç´¢æ ‘æ€§è´¨æŸ¥æ‰¾æ’å…¥ä½ç½®ï¼Œæ’å…¥æ–°èŠ‚ç‚¹
```c++
bool Insert(const K& key) {
            if (_root == nullptr) { // å¦‚æœæ˜¯ç©ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹
                _root = new Node(key);
                return true;  
            } else { // å¦‚æœä¸æ˜¯ç©ºï¼Œé‚£æˆ‘ä»¬å°±è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®
                Node* parent = nullptr; // ä¸ºäº†åœ¨æ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®ä¹‹åï¼Œå°†å¾…æ’å…¥çš„èŠ‚ç‚¹ä¸æ•´ä¸ªäºŒå‰æ ‘é“¾æ¥èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸ªçˆ¶èŠ‚ç‚¹
                Node* cur = _root;
                while (cur) { // å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼šå½“æ’å…¥åˆ°ç©ºçš„æ—¶å€™å°±æˆªæ­¢äº†
                    parent = cur; // æ¯æ¬¡ cur çš„å€¼æ›´æ–°ä¹‹å‰ä¹Ÿä¸è¦å¿˜äº†æ›´æ–° parent çš„å€¼ã€‚
                    if (cur -> _key < key) { // å¦‚æœæ’å…¥çš„å€¼å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼æˆ‘ä»¬è¦å¾€å³èµ°ã€‚
                        cur = cur -> _right;
                    } 
                    else if (cur -> _key > key) { // å¦‚æœæ’å…¥çš„å€¼å°äºè¯¥èŠ‚ç‚¹çš„å€¼æˆ‘ä»¬å°±å¾€å·¦èµ°
                        cur = cur -> _left;
                    }
                    else {
                        return false; // é»˜è®¤æƒ…å†µä¸‹æœç´¢äºŒå‰æ ‘æ˜¯ä¸å…è®¸æœ‰å€¼ç›¸ç­‰çš„
                    }
                }
                cur = new Node(key); // åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å‡ºæ¥
                if (parent -> _key < key) {
                    parent -> _right = cur; // æˆ‘ä»¬è¦åŒºåˆ†ä¸€ä¸‹ï¼ŒæŠŠè¿™ä¸ªæ–°çš„èŠ‚ç‚¹é“¾æ¥åˆ°å·¦è¾¹è¿˜æ˜¯å³è¾¹?
                } else {
                    parent -> _left = cur;
                }
                return true;
            }
        } 
```


## ğŸ“Œ äºŒå‰æœç´¢æ ‘çš„åˆ é™¤----- æ›¿æ¢æ³•

###  âœï¸ è§£æ³•æ€è·¯
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://i-blog.csdnimg.cn/direct/d6a453cce6a54a4882189d16abcf57b5.png)

æˆ‘ä»¬è¦åˆ é™¤èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³æƒ³å¯ä»¥æ€æ ·æ¥åšï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åˆ é™¤``13`` æˆ‘ä»¬é¦–å…ˆå¯ä»¥ç›´æ¥å°±åˆ æ‰äº†ï¼Œä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦åˆ é™¤``14`` å‘¢ï¼Ÿæˆ‘ä»¬ä¹Ÿèƒ½ç›´æ¥åˆ é™¤ï¼ŒæŠŠ``14`` çš„å­©å­èŠ‚ç‚¹ç»™``10`` å°±è¡Œäº†ï¼Œç±»ä¼¼ä¸€ç§æ‰˜å­¤çš„æ„Ÿè§‰ã€‚
éš¾çš„æ˜¯å¦‚æœæˆ‘ä»¬è¦åˆ é™¤æœ‰2ä¸ªå­©å­çš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åˆ é™¤èŠ‚ç‚¹``6`` ï¼Œé‚£è¯¥æ€è«åŠï¼Ÿè¿™æ˜¯äºŒå‰æ ‘ï¼Œåªèƒ½æœ‰ä¸¤ä¸ªå­©å­ï¼ŒèŠ‚ç‚¹``6`` è¢«åˆ é™¤äº†ï¼Œåªèƒ½æœ‰ä¸€ä¸ªèŠ‚ç‚¹å»æ›¿ä»£å®ƒçš„ä½ç½®ï¼Œå¹¶ä¸”ä¹Ÿè¦æ»¡è¶³æˆ‘ä»¬è¿™ä¸ªæœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼ˆå°çš„åœ¨å·¦è¾¹ï¼Œå¤§çš„æ•°åœ¨å³è¾¹ï¼‰ï¼Œé‚£æ‰¾è°å»æ›¿ä»£èŠ‚ç‚¹``6`` çš„ä½ç½®å‘¢ï¼Ÿæˆ‘ä»¬ç»†ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªæœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦å­æ•°æ¯”æ ¹å°ï¼Œå³å­æ ‘æ¯”æ ¹å¤§ï¼Œæˆ‘ä»¬æŠŠèŠ‚ç‚¹``6``åˆ äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾èŠ‚ç‚¹``6`` çš„å·¦å­æ•°çš„æœ€å¤§çš„é‚£ä¸ªæ•°æ¥é¡¶æ›¿``6``, åœ¨è¿™é‡Œå°±æ˜¯èŠ‚ç‚¹``4``, æˆ‘ä»¬å‘ç°æŒ‰ç…§è¿™æ ·çš„é€»è¾‘åˆšå¥½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰¾å³å­æ ‘çš„æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œè¿™é‡Œæ˜¯èŠ‚ç‚¹``7`` ,ä¹Ÿç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚

 ### âœï¸ äºŒå‰æœç´¢æ ‘çš„åˆ é™¤

é¦–å…ˆæŸ¥æ‰¾å…ƒç´ æ˜¯å¦åœ¨äºŒå‰æœç´¢æ ‘ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›, å¦åˆ™è¦åˆ é™¤çš„ç»“ç‚¹å¯èƒ½åˆ†ä¸‹é¢å››ç§æƒ…å†µï¼š

a. è¦åˆ é™¤çš„ç»“ç‚¹æ— å­©å­ç»“ç‚¹

b. è¦åˆ é™¤çš„ç»“ç‚¹åªæœ‰å·¦å­©å­ç»“ç‚¹

c. è¦åˆ é™¤çš„ç»“ç‚¹åªæœ‰å³å­©å­ç»“ç‚¹

d. è¦åˆ é™¤çš„ç»“ç‚¹æœ‰å·¦ã€å³å­©å­ç»“ç‚¹

çœ‹èµ·æ¥æœ‰å¾…åˆ é™¤èŠ‚ç‚¹æœ‰4ä¸­æƒ…å†µï¼Œå®é™…æƒ…å†µaå¯ä»¥ä¸æƒ…å†µbæˆ–è€…cåˆå¹¶èµ·æ¥ï¼Œå› æ­¤çœŸæ­£çš„åˆ é™¤è¿‡ç¨‹
å¦‚ä¸‹ï¼š
æƒ…å†µbï¼šåˆ é™¤è¯¥ç»“ç‚¹ä¸”ä½¿è¢«åˆ é™¤èŠ‚ç‚¹çš„åŒäº²ç»“ç‚¹æŒ‡å‘è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­©å­ç»“ç‚¹--ç›´æ¥åˆ é™¤
æƒ…å†µcï¼šåˆ é™¤è¯¥ç»“ç‚¹ä¸”ä½¿è¢«åˆ é™¤èŠ‚ç‚¹çš„åŒäº²ç»“ç‚¹æŒ‡å‘è¢«åˆ é™¤ç»“ç‚¹çš„å³å­©å­ç»“ç‚¹--ç›´æ¥åˆ é™¤
æƒ…å†µdï¼šåœ¨å®ƒçš„å³å­æ ‘ä¸­å¯»æ‰¾ä¸­åºä¸‹çš„ç¬¬ä¸€ä¸ªç»“ç‚¹(å…³é”®ç æœ€å°)ï¼Œç”¨å®ƒçš„å€¼å¡«è¡¥åˆ°è¢«åˆ é™¤èŠ‚ç‚¹
ä¸­ï¼Œå†æ¥å¤„ç†è¯¥ç»“ç‚¹çš„åˆ é™¤é—®é¢˜--æ›¿æ¢æ³•åˆ é™¤

ä»£ç å®ç°ï¼š
```c++
    // åˆ é™¤èŠ‚ç‚¹â€”â€” æ›¿æ¢æ³•
    bool Erase(const K &key)
    {
        Node *parent = nullptr;
        Node *cur = _root;
        while (cur)
        {
            if (cur->_key < key)
            { // è¦åˆ é™¤çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼è¦å¤§ï¼Œè¯´æ˜æˆ‘ä»¬è¦å¾€è¿™ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘å»æ‰¾
                parent = cur;
                cur = cur->_right;
            }
            else if (cur->_key > key) // è¦åˆ é™¤çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼è¦å°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¾€å·¦å­æ ‘å»æ‰¾
            {
                parent = cur;
                cur = cur->_left;
            }
            else // ç›¸ç­‰çš„è¯æˆ‘ä»¬å°±æ‰¾åˆ°äº†ï¼Œå°±å¯ä»¥è¿›è¡Œåˆ é™¤çš„æ“ä½œäº†
            {
                /*****************************************å·¦å­©å­æ˜¯ç©ºçš„æƒ…å†µ******************************/
                if (cur->_left == nullptr) // å¦‚æœ cur åªæœ‰ä¸€ä¸ªå­©å­ï¼Œå®ƒçš„å·¦å­©å­æ˜¯ç©º
                {
                    if (cur == _root) // ä¸è¦å¿˜äº†è€ƒè™‘ cur æ˜¯æ ¹èŠ‚ç‚¹çš„æƒ…å†µ
                    {
                        _root = cur->_right; // å› ä¸ºå¤§å‰ææ˜¯å·¦å­©å­æ˜¯ç©ºï¼Œæ‰€ä»¥ä½ ä¸å¯èƒ½æŠŠå·¦å­©å­ç”¨æ¥å½“æˆæ ¹èŠ‚ç‚¹å§
                    }
                    if (cur == parent->_left) // æ°å¥½ï¼Œcur åˆæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­
                    {
                        parent->_left = cur->_right; // æ»¡è¶³æœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦è¾¹çš„æ•°è¦å°ï¼Œå³è¾¹çš„æ•°è¦å¤§ï¼‰
                    }
                    else if (cur == parent->_right)
                    {
                        parent->_right = cur->_right;
                    }
                }
                /**************************************å³å­©å­æ˜¯ç©ºçš„æƒ…å†µ*************************** */
                else if (cur->_right == nullptr) // å¦‚æœ cur è¿™ä¸ªèŠ‚ç‚¹çš„å³å­©å­æ˜¯ç©ºçš„
                {
                    if (cur == _root)
                    {
                        _root = cur->_left;
                    }
                    if (cur == parent->_left) // æ°å¥½ï¼Œcur åˆæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­
                    {
                        parent->_left = cur->_left; // æ»¡è¶³æœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦è¾¹çš„æ•°è¦å°ï¼Œå³è¾¹çš„æ•°è¦å¤§ï¼‰
                    }
                    else if (cur == parent->_right)
                    {
                        parent->_right = cur->_left;
                    }
                }
                /**********************************å·¦å³å­©å­éƒ½ä¸æ˜¯ç©ºçš„æƒ…å†µ************************ */
                else if (cur->_left != nullptr && cur->_right != nullptr)
                {
                    // è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ç”¨æ›¿æ¢æ³•äº†ï¼Œå·¦æ ‘çš„æœ€å¤§èŠ‚ç‚¹ï¼Œå³æ ‘çš„æœ€å°èŠ‚ç‚¹éƒ½å¯ä»¥
                    // é‚£æˆ‘ä»¬è¿™é‡Œé»˜è®¤æ‰¾å³æ ‘çš„æœ€å°èŠ‚ç‚¹æ¥æ›¿ä»£
                    Node *subLeft = cur->_right; // subLeft è¡¨ç¤ºçš„æ˜¯å³æ ‘çš„æœ€å°èŠ‚ç‚¹,é€šè¿‡è§‚å¯Ÿæˆ‘ä»¬å¯ä»¥çŸ¥é“å³æ ‘çš„æœ€å°èŠ‚ç‚¹åœ¨æœ€å·¦è¾¹ï¼ŒåŒç†ï¼Œå·¦æ ‘çš„æœ€å¤§ç»“ç‚¹åœ¨æœ€å³è¾¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰¾å³æ ‘çš„æœ€å°çš„èŠ‚ç‚¹å–åä¸ºï¼šsubLeft
                    Node *parent = cur;
                    while (subLeft->_left) // å¦‚æœ subLeft->left ä¸æ˜¯ç©ºï¼Œè¯´æ˜å®ƒè¿˜ä¸æ˜¯æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å‘¢å°±è¦ç»§ç»­å¾€å·¦æ‰¾
                    {
                        parent = subLeft;
                        subLeft = subLeft->_left;
                    }
                    // é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œ subLeft å·²ç»åˆ°äº†å³å­æ ‘æœ€å°èŠ‚ç‚¹çš„é‚£ä¸ªä½ç½®äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹æ›¿æ¢æ“ä½œäº†
                    swap(cur->_key, subLeft->_key); // subLeft æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªå€¼ï¼Œæˆ‘æŠŠå®ƒç”¨æ¥æ›¿æ¢è¦åˆ é™¤çš„å€¼ cur
                                                    // subLeftç°åœ¨æˆä¸ºäº†æˆ‘ä»¬è¦åˆ é™¤çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šé¢è¿›è¡Œäº†æ›¿æ¢çš„æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬è¦æŠŠ subLeftçš„å­©å­èŠ‚ç‚¹å¤„ç†å¥½ï¼Œè®©ä»–ä»¬è¿æ¥ä¸Šæ–°çš„çˆ¶èŠ‚ç‚¹
                    if (subLeft == parent->_left)   // å¦‚æœ subLeft æ˜¯parentçš„å·¦å­æ ‘ï¼Œé‚£ä¹ˆå®ƒçš„å­©å­çš„å€¼éƒ½æ˜¯å°äºparentçš„
                    {
                        parent->_left = subLeft->_right; // è‡ªå·±ç”»å›¾ä¼šå¥½ç†è§£ä¸€ç‚¹
                    }
                    else // å¦‚æœ subLeft æ˜¯ä¸€ä¸ªå³å­æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬çŸ¥é“å®ƒçš„å­©å­çš„å€¼éƒ½æ˜¯å¤§äºparentçš„
                    {
                        parent->_right = subLeft->_right;
                    }
                }
                return true;
            }
        }
        return false; // æ‰¾ä¸åˆ°å°±è¿”å›é”™
    }

```

# ğŸ·ï¸ ä»¥é€’å½’çš„æ–¹å¼æ¥å®ŒæˆäºŒå‰æœç´¢æ ‘ä¸­çš„ä¸€äº›å‡½æ•°

## ğŸ“Œ é€’å½’çš„æŸ¥æ‰¾å‡½æ•°çš„æ–¹æ³•

```c++
// é€’å½’çš„æŸ¥æ‰¾å‡½æ•°çš„æ–¹æ³•
    bool _FindR(Node *root, const K &key)
    {
        if (root == nullptr)
        {
            return false;
        }
        else
        {
            if (root->_key == key)
            {
                return true;
            }
            else if (root->_key > key)
            {
                return _FindR(_root->_left, key);
            }
            else if (root->_key < key)
            {
                return _FindR(_root->_right);
            }
        }
    }
```



## ğŸ“Œ é€’å½’çš„æ’å…¥å‡½æ•°çš„å†™æ³•

```c++
// é€’å½’çš„æ’å…¥å‡½æ•°çš„å†™æ³•ï¼š
    bool _InsertR(Node *&root, const K &key) // è¿™é‡Œçš„å¤„ç†ç›¸å½“çš„å·§å¦™ï¼Œæˆ‘æŒ‡çš„æ˜¯ï¼šNode *&root,
    {                                        // ä½ ä¼šæ„Ÿåˆ°ç–‘é—®ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿™é‡Œè¦åŠ ä¸ª &ï¼Œæˆ‘æ¥å‘Šè¯‰ä½ åŠ  & ç›®çš„
                                             // åŠ äº† & ä¹‹åï¼Œå°±ç›´æ¥æŠŠæˆ‘ä»¬è¦æ’å…¥çš„èŠ‚ç‚¹é“¾æ¥åˆ°æ ‘ä¸Šäº†ï¼Œæˆ‘ä»¬ä¸æ˜¯è¦æ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å—
                                             // ä¸ºäº†æ’å…¥è¿™ä¸ªæ–°çš„èŠ‚ç‚¹æˆ‘ä»¬çš„æ€è·¯æ˜¯ï¼š 1. æ‰¾åˆ°èŠ‚ç‚¹è¦æ’å…¥çš„ä½ç½® 2. å°†èŠ‚ç‚¹æ’å…¥è¿›å»ï¼ˆè¦å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹é“¾æ¥èµ·æ¥ï¼‰
                                             // è¿™é‡Œä½¿ç”¨äº† & ï¼ˆå³ï¼šå¼•ç”¨ï¼Œå–åˆ«åï¼‰, åœ¨å®ƒæ‰¾èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒå¯¹åº”çš„çˆ¶èŠ‚ç‚¹é€šè¿‡&çš„æ–¹å¼æœ‰äº†ä¸€ä¸ªæ–°çš„åå­—ï¼šroot
                                             // ç„¶ååœ¨é€’å½’éå†çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·çš„ï¼šroot->left,root->right,å¦‚æœ root æ°å¥½æ˜¯ç©ºï¼Œæˆ‘ä»¬å°± new ä¸€ä¸ªæ–°å¾—ç»“ç‚¹
        if (root == nullptr)                 // è¿™æ ·åˆšå¥½å°±é“¾æ¥ä¸Šäº†ï¼Œè‡ªå·±åŠ¨æ‰‹ç”»é€’å½’å±•å¼€å›¾æ›´æ˜“ç†è§£

        {
            root = new Node(key);
            return true;
        }
        if (root->_key < key)
        {
            return _InsertR(root->_right, key);
        }
        else if (root->_key > key)
        {
            return _InsertR(root->_left, key);
        }
        else
        {
            return false;
        }
    }
```


## ğŸ“Œ  é€’å½’çš„åˆ é™¤å‡½æ•°çš„å†™æ³• Erase

```c++
// é€’å½’çš„åˆ é™¤å‡½æ•°çš„å†™æ³• Erase
    bool _EraseR(Node *&root, const K &key)
    {
        if (root == nullptr)
        {
            return false;
        }
        else if (root->_key > key)
        {
            return _EraseR(root->_left, key);
        }
        else if (root->_key < key)
        {
            return _EraseR(root->_right, key);
        }
        else if (root->_key == key)
        {
            // è¿™é‡Œå°±è¦è¿›è¡Œåˆ é™¤æ“ä½œäº†ï¼ŒåŒæ—¶æˆ‘ä»¬è¦æ³¨æ„æœ‰å¾ˆå¤šç§æƒ…å†µéœ€è¦æˆ‘ä»¬å»è§£å†³
            /*****************        å·¦å­©å­ä¸ºç©ºçš„æƒ…å†µ        ****************************** */
            if (root->_left == nullptr)
            {
                Node *del = root;
                root = root->_right;
                delete del;
                return true;
            }
            /********************      å³å­©å­ä¸ºç©º        ***************************88 */
            else if (root->_right == nullptr)
            {

                Node *del = root;
                root = root->_left;
                delete del;
                return true;
            }
            /********************      å·¦å³å­©å­éƒ½ä¸ä¸ºç©º       ************************* */
            else
            {
                // è¿™é‡Œç”¨æ›¿ä»£æ³•ï¼›
                Node *subLeft = root->_right; // åŒä¸Šï¼ŒsubLeft æ˜¯æˆ‘ä»¬è¦å»å¯»æ‰¾çš„æ›¿ä»£è€…,ä¸ºä»€ä¹ˆè¦è®©å®ƒæŒ‡å‘ root->right? å› ä¸ºæˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œæ›¿ä»£è€…æ˜¯å·¦å­æ ‘çš„æœ€å¤§ç»“ç‚¹æˆ–è€…æ˜¯å³å­æ ‘çš„æœ€å°ç»“ç‚¹éƒ½è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰¾çš„æ˜¯å³å­æ ‘çš„æœ€å°ç»“ç‚¹
                while (subLeft->_left)        // åªè¦å®ƒè¿˜æœ‰å·¦å­æ ‘ï¼Œå°±è¯´æ˜è¿˜ä¸æ˜¯æœ€å°çš„é‚£ä¸ªç»“ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç»§ç»­æ‰¾
                {
                    subLeft = subLeft->_left;
                }
                swap(root->_key, subLeft->_key);   // äº¤æ¢è¦åˆ é™¤çš„èŠ‚ç‚¹å’Œæ›¿ä»£è€…
                return _EraseR(root->_right, key); // ç”¨é€’å½’çš„æ–¹å¼æ¥åˆ é™¤ï¼Œæˆ‘ä»¬å»å­æ ‘ä¸­åˆ é™¤ã€‚
            }
        }
    }
```

# ğŸ·ï¸ æ‰€æœ‰ä»£ç ï¼š

```c++


#include <iostream>
using namespace std;

template <class K>
// å®šä¹‰äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹
struct BSTreeNode
{
    BSTreeNode<K> *_left;
    BSTreeNode<K> *_right;
    K _key;

    BSTreeNode(const K &key) : _left(nullptr), _right(nullptr), _key(key) {}
};

template <class K>
class BSTree
{
    typedef BSTreeNode<K> Node;

public:
    bool Insert(const K &key)
    {
        if (_root == nullptr)
        { // å¦‚æœæ˜¯ç©ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹
            _root = new Node(key);
            return true;
        }
        else
        {                           // å¦‚æœä¸æ˜¯ç©ºï¼Œé‚£æˆ‘ä»¬å°±è¦æ‰¾åˆ°æ’å…¥çš„ä½ç½®
            Node *parent = nullptr; // ä¸ºäº†åœ¨æ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®ä¹‹åï¼Œå°†å¾…æ’å…¥çš„èŠ‚ç‚¹ä¸æ•´ä¸ªäºŒå‰æ ‘é“¾æ¥èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è®¾ç½®ä¸€ä¸ªçˆ¶èŠ‚ç‚¹
            Node *cur = _root;
            while (cur)
            {                 // å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼šå½“æ’å…¥åˆ°ç©ºçš„æ—¶å€™å°±æˆªæ­¢äº†
                parent = cur; // æ¯æ¬¡ cur çš„å€¼æ›´æ–°ä¹‹å‰ä¹Ÿä¸è¦å¿˜äº†æ›´æ–° parent çš„å€¼ã€‚
                if (cur->_key < key)
                { // å¦‚æœæ’å…¥çš„å€¼å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼æˆ‘ä»¬è¦å¾€å³èµ°ã€‚
                    cur = cur->_right;
                }
                else if (cur->_key > key)
                { // å¦‚æœæ’å…¥çš„å€¼å°äºè¯¥èŠ‚ç‚¹çš„å€¼æˆ‘ä»¬å°±å¾€å·¦èµ°
                    cur = cur->_left;
                }
                else
                {
                    return false; // é»˜è®¤æƒ…å†µä¸‹æœç´¢äºŒå‰æ ‘æ˜¯ä¸å…è®¸æœ‰å€¼ç›¸ç­‰çš„
                }
            }
            cur = new Node(key); // åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹å‡ºæ¥
            if (parent->_key < key)
            {
                parent->_right = cur; // æˆ‘ä»¬è¦åŒºåˆ†ä¸€ä¸‹ï¼ŒæŠŠè¿™ä¸ªæ–°çš„èŠ‚ç‚¹é“¾æ¥åˆ°å·¦è¾¹è¿˜æ˜¯å³è¾¹?
            }
            else
            {
                parent->_left = cur;
            }
            return true;
        }
    }

    // æŸ¥æ‰¾
    bool Find(const K &key)
    {
        Node *cur = _root;
        while (cur)
        {
            if (cur->_key < key)
            {
                cur = cur->_right;
            }
            else if (cur->_key > key)
            {
                cur = cur->_left;
            }
            else
            {
                return true;
            }
        }
        return false;
    }

    // åˆ é™¤èŠ‚ç‚¹â€”â€” æ›¿æ¢æ³•
    bool Erase(const K &key)
    {
        Node *parent = nullptr;
        Node *cur = _root;
        while (cur)
        {
            if (cur->_key < key)
            { // è¦åˆ é™¤çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼è¦å¤§ï¼Œè¯´æ˜æˆ‘ä»¬è¦å¾€è¿™ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘å»æ‰¾
                parent = cur;
                cur = cur->_right;
            }
            else if (cur->_key > key) // è¦åˆ é™¤çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼è¦å°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¾€å·¦å­æ ‘å»æ‰¾
            {
                parent = cur;
                cur = cur->_left;
            }
            else // ç›¸ç­‰çš„è¯æˆ‘ä»¬å°±æ‰¾åˆ°äº†ï¼Œå°±å¯ä»¥è¿›è¡Œåˆ é™¤çš„æ“ä½œäº†
            {
                /*****************************************å·¦å­©å­æ˜¯ç©ºçš„æƒ…å†µ******************************/
                if (cur->_left == nullptr) // å¦‚æœ cur åªæœ‰ä¸€ä¸ªå­©å­ï¼Œå®ƒçš„å·¦å­©å­æ˜¯ç©º
                {
                    if (cur == _root) // ä¸è¦å¿˜äº†è€ƒè™‘ cur æ˜¯æ ¹èŠ‚ç‚¹çš„æƒ…å†µ
                    {
                        _root = cur->_right; // å› ä¸ºå¤§å‰ææ˜¯å·¦å­©å­æ˜¯ç©ºï¼Œæ‰€ä»¥ä½ ä¸å¯èƒ½æŠŠå·¦å­©å­ç”¨æ¥å½“æˆæ ¹èŠ‚ç‚¹å§
                    }
                    if (cur == parent->_left) // æ°å¥½ï¼Œcur åˆæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­
                    {
                        parent->_left = cur->_right; // æ»¡è¶³æœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦è¾¹çš„æ•°è¦å°ï¼Œå³è¾¹çš„æ•°è¦å¤§ï¼‰
                    }
                    else if (cur == parent->_right)
                    {
                        parent->_right = cur->_right;
                    }
                }
                /**************************************å³å­©å­æ˜¯ç©ºçš„æƒ…å†µ*************************** */
                else if (cur->_right == nullptr) // å¦‚æœ cur è¿™ä¸ªèŠ‚ç‚¹çš„å³å­©å­æ˜¯ç©ºçš„
                {
                    if (cur == _root)
                    {
                        _root = cur->_left;
                    }
                    if (cur == parent->_left) // æ°å¥½ï¼Œcur åˆæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­©å­
                    {
                        parent->_left = cur->_left; // æ»¡è¶³æœç´¢äºŒå‰æ ‘çš„æ€§è´¨ï¼šå·¦è¾¹çš„æ•°è¦å°ï¼Œå³è¾¹çš„æ•°è¦å¤§ï¼‰
                    }
                    else if (cur == parent->_right)
                    {
                        parent->_right = cur->_left;
                    }
                }
                /**********************************å·¦å³å­©å­éƒ½ä¸æ˜¯ç©ºçš„æƒ…å†µ************************ */
                else if (cur->_left != nullptr && cur->_right != nullptr)
                {
                    // è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ç”¨æ›¿æ¢æ³•äº†ï¼Œå·¦æ ‘çš„æœ€å¤§èŠ‚ç‚¹ï¼Œå³æ ‘çš„æœ€å°èŠ‚ç‚¹éƒ½å¯ä»¥
                    // é‚£æˆ‘ä»¬è¿™é‡Œé»˜è®¤æ‰¾å³æ ‘çš„æœ€å°èŠ‚ç‚¹æ¥æ›¿ä»£
                    Node *subLeft = cur->_right; // subLeft è¡¨ç¤ºçš„æ˜¯å³æ ‘çš„æœ€å°èŠ‚ç‚¹,é€šè¿‡è§‚å¯Ÿæˆ‘ä»¬å¯ä»¥çŸ¥é“å³æ ‘çš„æœ€å°èŠ‚ç‚¹åœ¨æœ€å·¦è¾¹ï¼ŒåŒç†ï¼Œå·¦æ ‘çš„æœ€å¤§ç»“ç‚¹åœ¨æœ€å³è¾¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰¾å³æ ‘çš„æœ€å°çš„èŠ‚ç‚¹å–åä¸ºï¼šsubLeft
                    Node *parent = cur;
                    while (subLeft->_left) // å¦‚æœ subLeft->left ä¸æ˜¯ç©ºï¼Œè¯´æ˜å®ƒè¿˜ä¸æ˜¯æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å‘¢å°±è¦ç»§ç»­å¾€å·¦æ‰¾
                    {
                        parent = subLeft;
                        subLeft = subLeft->_left;
                    }
                    // é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œ subLeft å·²ç»åˆ°äº†å³å­æ ‘æœ€å°èŠ‚ç‚¹çš„é‚£ä¸ªä½ç½®äº†ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹æ›¿æ¢æ“ä½œäº†
                    swap(cur->_key, subLeft->_key); // subLeft æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªå€¼ï¼Œæˆ‘æŠŠå®ƒç”¨æ¥æ›¿æ¢è¦åˆ é™¤çš„å€¼ cur
                                                    // subLeftç°åœ¨æˆä¸ºäº†æˆ‘ä»¬è¦åˆ é™¤çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºæˆ‘ä»¬ä¸Šé¢è¿›è¡Œäº†æ›¿æ¢çš„æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬è¦æŠŠ subLeftçš„å­©å­èŠ‚ç‚¹å¤„ç†å¥½ï¼Œè®©ä»–ä»¬è¿æ¥ä¸Šæ–°çš„çˆ¶èŠ‚ç‚¹
                    if (subLeft == parent->_left)   // å¦‚æœ subLeft æ˜¯parentçš„å·¦å­æ ‘ï¼Œé‚£ä¹ˆå®ƒçš„å­©å­çš„å€¼éƒ½æ˜¯å°äºparentçš„
                    {
                        parent->_left = subLeft->_right; // è‡ªå·±ç”»å›¾ä¼šå¥½ç†è§£ä¸€ç‚¹
                    }
                    else // å¦‚æœ subLeft æ˜¯ä¸€ä¸ªå³å­æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬çŸ¥é“å®ƒçš„å­©å­çš„å€¼éƒ½æ˜¯å¤§äºparentçš„
                    {
                        parent->_right = subLeft->_right;
                    }
                }
                return true;
            }
        }
        return false; // æ‰¾ä¸åˆ°å°±è¿”å›é”™
    }

    // ä¸­åºéå†
    void _InOrder(Node *root)
    {
        if (root == nullptr)
        {
            return;
        }
        else
        {
            _InOrder(root->_left);
            cout << root->_key << " ";
            _InOrder(root->_right);
        }
    }

    // ä½†æ˜¯æˆ‘ä»¬è¿™ä¸ªä¸­åºéå†æ˜¯æˆå‘˜å‡½æ•°ï¼Œå®ƒçš„å‚æ•° root ä¹Ÿæ˜¯æˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬åœ¨ç±»å¤–é¢æ— æ³•è®¿é—®è¿™ä¸ªæˆå‘˜å˜é‡ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ
    // æˆ‘å¯ä»¥å†™ä¸ªï¼šgetRoot() çš„ æˆå‘˜å‡½æ•°æ¥è¿”å›ä¸€ä¸ª root, ä½†æ˜¯ä¸‹é¢çš„å¤„ç†åŠæ³•ä¹ŸåŒæ ·å·§å¦™
    void InOrder()
    {
        _InOrder(_root);
        cout << endl;
    }

    bool EraseR(const K &key)
    {
        return _EraseR(_root, key);
    }
    bool FindR(const K &key)
    {
        return _FindR(_root, key);
    }

    bool InsertR(const K &key)
    {
        return _InsertR(_root, key);
    }

    // é»˜è®¤æ„é€ å‡½æ•°-----ç”±äºæˆ‘ä»¬ä¸‹é¢å†™äº†æ„é€ å‡½æ•°ï¼ˆæ‹·è´æ„é€ å‡½æ•°ï¼‰ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å°±ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°äº†
    // æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦å†™ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æˆå‘˜å˜é‡å·²ç»ç»™äº†ç¼ºçœå€¼ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥ç›´æ¥è¿™æ ·å†™ï¼š
    BSTree() {} // å®ƒä¼šç”¨ç¼ºçœå€¼å»åˆå§‹åŒ–

    // æˆ–è€…ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š
    //  BSTree() = default; // ä»£è¡¨å¼ºåˆ¶ç”Ÿæˆé»˜è®¤æ„é€ å‡½æ•°

    // ææ„å‡½æ•°
    ~BSTree()
    {
        Destroy(_root);
    }

    // æ‹·è´æ„é€ å‡½æ•°
    BSTree(const BSTree<K> &t)
    {
        _root = Copy(t._root);
    }

    // èµ‹å€¼,é‡è½½è¿ç®—ç¬¦ï¼Œ=
    BSTree<K> &operator=(BSTree<K> t)
    {
        swap(_root, t._root);
        return *this;
    }

private:
    // æ‹·è´æ„é€ å‡½æ•°
    Node *Copy(Node *root)
    {
        if (root == nullptr)
            return nullptr;
        Node *newRoot = new Node(root->_key);
        newRoot->_left = Copy(root->_left);
        newRoot->_right = Copy(root->_right);
        return newRoot;
    }
    // ææ„å‡½æ•°
    void Destroy(Node *&root)
    {
        if (root == nullptr)
            return;

        Destroy(root->_left);
        Destroy(root->_right);
        delete root;
        root = nullptr;
    }

    // é€’å½’çš„åˆ é™¤å‡½æ•°çš„å†™æ³• Erase
    bool _EraseR(Node *&root, const K &key)
    {
        if (root == nullptr)
        {
            return false;
        }
        else if (root->_key > key)
        {
            return _EraseR(root->_left, key);
        }
        else if (root->_key < key)
        {
            return _EraseR(root->_right, key);
        }
        else if (root->_key == key)
        {
            // è¿™é‡Œå°±è¦è¿›è¡Œåˆ é™¤æ“ä½œäº†ï¼ŒåŒæ—¶æˆ‘ä»¬è¦æ³¨æ„æœ‰å¾ˆå¤šç§æƒ…å†µéœ€è¦æˆ‘ä»¬å»è§£å†³
            /*****************        å·¦å­©å­ä¸ºç©ºçš„æƒ…å†µ        ****************************** */
            if (root->_left == nullptr)
            {
                Node *del = root;
                root = root->_right;
                delete del;
                return true;
            }
            /********************      å³å­©å­ä¸ºç©º        ***************************88 */
            else if (root->_right == nullptr)
            {

                Node *del = root;
                root = root->_left;
                delete del;
                return true;
            }
            /********************      å·¦å³å­©å­éƒ½ä¸ä¸ºç©º       ************************* */
            else
            {
                // è¿™é‡Œç”¨æ›¿ä»£æ³•ï¼›
                Node *subLeft = root->_right; // åŒä¸Šï¼ŒsubLeft æ˜¯æˆ‘ä»¬è¦å»å¯»æ‰¾çš„æ›¿ä»£è€…,ä¸ºä»€ä¹ˆè¦è®©å®ƒæŒ‡å‘ root->right? å› ä¸ºæˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œæ›¿ä»£è€…æ˜¯å·¦å­æ ‘çš„æœ€å¤§ç»“ç‚¹æˆ–è€…æ˜¯å³å­æ ‘çš„æœ€å°ç»“ç‚¹éƒ½è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œæ‰¾çš„æ˜¯å³å­æ ‘çš„æœ€å°ç»“ç‚¹
                while (subLeft->_left)        // åªè¦å®ƒè¿˜æœ‰å·¦å­æ ‘ï¼Œå°±è¯´æ˜è¿˜ä¸æ˜¯æœ€å°çš„é‚£ä¸ªç»“ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç»§ç»­æ‰¾
                {
                    subLeft = subLeft->_left;
                }
                swap(root->_key, subLeft->_key);   // äº¤æ¢è¦åˆ é™¤çš„èŠ‚ç‚¹å’Œæ›¿ä»£è€…
                return _EraseR(root->_right, key); // ç”¨é€’å½’çš„æ–¹å¼æ¥åˆ é™¤ï¼Œæˆ‘ä»¬å»å­æ ‘ä¸­åˆ é™¤ã€‚
            }
        }
    }
    // é€’å½’çš„æ’å…¥å‡½æ•°çš„å†™æ³•ï¼š
    bool _InsertR(Node *&root, const K &key) // è¿™é‡Œçš„å¤„ç†ç›¸å½“çš„å·§å¦™ï¼Œæˆ‘æŒ‡çš„æ˜¯ï¼šNode *&root,
    {                                        // ä½ ä¼šæ„Ÿåˆ°ç–‘é—®ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿™é‡Œè¦åŠ ä¸ª &ï¼Œæˆ‘æ¥å‘Šè¯‰ä½ åŠ  & ç›®çš„
                                             // åŠ äº† & ä¹‹åï¼Œå°±ç›´æ¥æŠŠæˆ‘ä»¬è¦æ’å…¥çš„èŠ‚ç‚¹é“¾æ¥åˆ°æ ‘ä¸Šäº†ï¼Œæˆ‘ä»¬ä¸æ˜¯è¦æ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å—
                                             // ä¸ºäº†æ’å…¥è¿™ä¸ªæ–°çš„èŠ‚ç‚¹æˆ‘ä»¬çš„æ€è·¯æ˜¯ï¼š 1. æ‰¾åˆ°èŠ‚ç‚¹è¦æ’å…¥çš„ä½ç½® 2. å°†èŠ‚ç‚¹æ’å…¥è¿›å»ï¼ˆè¦å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹é“¾æ¥èµ·æ¥ï¼‰
                                             // è¿™é‡Œä½¿ç”¨äº† & ï¼ˆå³ï¼šå¼•ç”¨ï¼Œå–åˆ«åï¼‰, åœ¨å®ƒæ‰¾èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒå¯¹åº”çš„çˆ¶èŠ‚ç‚¹é€šè¿‡&çš„æ–¹å¼æœ‰äº†ä¸€ä¸ªæ–°çš„åå­—ï¼šroot
                                             // ç„¶ååœ¨é€’å½’éå†çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·çš„ï¼šroot->left,root->right,å¦‚æœ root æ°å¥½æ˜¯ç©ºï¼Œæˆ‘ä»¬å°± new ä¸€ä¸ªæ–°çš„ç»“ç‚¹
        if (root == nullptr)                 // è¿™æ ·åˆšå¥½å°±é“¾æ¥ä¸Šäº†ï¼Œè‡ªå·±åŠ¨æ‰‹ç”»é€’å½’å±•å¼€å›¾æ›´æ˜“ç†è§£

        {
            root = new Node(key);
            return true;
        }
        if (root->_key < key)
        {
            return _InsertR(root->_right, key);
        }
        else if (root->_key > key)
        {
            return _InsertR(root->_left, key);
        }
        else
        {
            return false;
        }
    }
    // é€’å½’çš„æŸ¥æ‰¾å‡½æ•°çš„æ–¹æ³•
    bool _FindR(Node *root, const K &key)
    {
        if (root == nullptr)
        {
            return false;
        }
        else
        {
            if (root->_key == key)
            {
                return true;
            }
            else if (root->_key > key)
            {
                return _FindR(_root->_left, key);
            }
            else if (root->_key < key)
            {
                return _FindR(_root->_right);
            }
        }
    }
    // ä¸­åºéå†
    // void _InOrder(Node *root)
    //{
    // if (root == nullptr)
    //{
    // return;
    //}
    // else
    //{
    //_InOrder(root->_left);
    // cout << root->_key << " ";
    //_InOrder(root->_right);
    //}
    //}

private:
    Node *_root = nullptr;
};

// int main()
//{
//     int a[] = {8, 3, 1, 10, 6, 4, 7, 14, 13};
//     BSTree<int> bt; // å®šä¹‰ä¸€ä¸ªäºŒå‰æœç´¢æ ‘
//     for (auto e : a)
//     {
//         bt.InsertR(e); // ä½¿ç”¨æ’å…¥æ“ä½œ
//     }
//     bt.InOrder();
//     bt.EraseR(14);
//     bt.InOrder();
//
//     bt.EraseR(8);
//     bt.InOrder();
//
//     bt.EraseR(3);
//     bt.InOrder();
//
//     for (auto e : a)
//     {
//
//         bt.EraseR(e);
//         bt.InOrder();
//     }
//     return 0;
// }

int main()
{
    int a[] = {8, 3, 1, 10, 6, 4, 7, 14, 13};
    BSTree<int> bt; // å®šä¹‰ä¸€ä¸ªäºŒå‰æœç´¢æ ‘
    for (auto e : a)
    {
        bt.InsertR(e); // ä½¿ç”¨æ’å…¥æ“ä½œ
    }
    bt.InOrder();
    BSTree<int> copy(bt);
    copy.InOrder();
}
```


# ğŸ·ï¸  äºŒå‰æœç´¢æ ‘çš„åº”ç”¨

## ğŸ“Œ Kæ¨¡å‹ï¼š

Kæ¨¡å‹å³åªæœ‰keyä½œä¸ºå…³é”®ç ï¼Œç»“æ„ä¸­åªéœ€è¦å­˜å‚¨Keyå³å¯ï¼Œå…³é”®ç å³ä¸ºéœ€è¦æœç´¢åˆ°çš„å€¼ã€‚

æ¯”å¦‚ï¼šç»™ä¸€ä¸ªå•è¯wordï¼Œåˆ¤æ–­è¯¥å•è¯æ˜¯å¦æ‹¼å†™æ­£ç¡®ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š

- ä»¥è¯åº“ä¸­æ‰€æœ‰å•è¯é›†åˆä¸­çš„æ¯ä¸ªå•è¯ä½œä¸ºkeyï¼Œæ„å»ºä¸€æ£µäºŒå‰æœç´¢æ ‘

- åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ£€ç´¢è¯¥å•è¯æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™æ‹¼å†™æ­£ç¡®ï¼Œä¸å­˜åœ¨åˆ™æ‹¼å†™é”™è¯¯ã€‚

## ğŸ“Œ KVæ¨¡å‹ï¼š

æ¯ä¸€ä¸ªå…³é”®ç keyï¼Œéƒ½æœ‰ä¸ä¹‹å¯¹åº”çš„å€¼Valueï¼Œå³``<Key, Value>``çš„é”®å€¼å¯¹ã€‚è¯¥ç§æ–¹
å¼åœ¨ç°å®ç”Ÿæ´»ä¸­éå¸¸å¸¸è§ï¼š

- æ¯”å¦‚è‹±æ±‰è¯å…¸å°±æ˜¯è‹±æ–‡ä¸ä¸­æ–‡çš„å¯¹åº”å…³ç³»ï¼Œé€šè¿‡è‹±æ–‡å¯ä»¥å¿«é€Ÿæ‰¾åˆ°ä¸å…¶å¯¹åº”çš„ä¸­æ–‡ï¼Œè‹±
æ–‡å•è¯ä¸å…¶å¯¹åº”çš„ä¸­æ–‡<word, chinese>å°±æ„æˆä¸€ç§é”®å€¼å¯¹ï¼›

- å†æ¯”å¦‚ç»Ÿè®¡å•è¯æ¬¡æ•°ï¼Œç»Ÿè®¡æˆåŠŸåï¼Œç»™å®šå•è¯å°±å¯å¿«é€Ÿæ‰¾åˆ°å…¶å‡ºç°çš„æ¬¡æ•°ï¼Œå•è¯ä¸å…¶å‡º
ç°æ¬¡æ•°å°±æ˜¯<word, count>å°±æ„æˆä¸€ç§é”®å€¼å¯¹ã€‚

```c++

// æ”¹é€ äºŒå‰æœç´¢æ ‘ä¸ºKVç»“æ„

template<class K, class V>

struct BSTNode

{

BSTNode(const K& key = K(), const V& value = V())

Â  : _pLeft(nullptr) , _pRight(nullptr), _key(key), _Value(value)

{}

BSTNode<T>* _pLeft;

BSTNode<T>* _pRight;

K _key;

Â  Â V _value

};


template<class K, class V>

class BSTree

{

typedef BSTNode<K, V> Node;

typedef Node* PNode;

public:

BSTree(): _pRoot(nullptr){}

PNode Find(const K& key);

bool Insert(const K& key, const V& value)

bool Erase(const K& key)

private:

PNode _pRoot;

};


void TestBSTree3()

{

// è¾“å…¥å•è¯ï¼ŒæŸ¥æ‰¾å•è¯å¯¹åº”çš„ä¸­æ–‡ç¿»è¯‘

BSTree<string, string> dict;

dict.Insert("string", "å­—ç¬¦ä¸²");

dict.Insert("tree", "æ ‘");

dict.Insert("left", "å·¦è¾¹ã€å‰©ä½™");

dict.Insert("right", "å³è¾¹");

dict.Insert("sort", "æ’åº");

// æ’å…¥è¯åº“ä¸­æ‰€æœ‰å•è¯

string str;

while (cin>>str)

{

BSTreeNode<string, string>* ret = dict.Find(str);

if (ret == nullptr)

{

cout << "å•è¯æ‹¼å†™é”™è¯¯ï¼Œè¯åº“ä¸­æ²¡æœ‰è¿™ä¸ªå•è¯:" <<str <<endl;

}

else

{

cout << str << "ä¸­æ–‡ç¿»è¯‘:" << ret->_value << endl;

}

}

}

void TestBSTree4()

{

// ç»Ÿè®¡æ°´æœå‡ºç°çš„æ¬¡æ•°

string arr[] = { "è‹¹æœ", "è¥¿ç“œ", "è‹¹æœ", "è¥¿ç“œ", "è‹¹æœ", "è‹¹æœ", "è¥¿ç“œ",

"è‹¹æœ", "é¦™è•‰", "è‹¹æœ", "é¦™è•‰" };

BSTree<string, int> countTree;

for (const auto& str : arr)

{

// å…ˆæŸ¥æ‰¾æ°´æœåœ¨ä¸åœ¨æœç´¢æ ‘ä¸­

// 1ã€ä¸åœ¨ï¼Œè¯´æ˜æ°´æœç¬¬ä¸€æ¬¡å‡ºç°ï¼Œåˆ™æ’å…¥<æ°´æœ, 1>

// 2ã€åœ¨ï¼Œåˆ™æŸ¥æ‰¾åˆ°çš„èŠ‚ç‚¹ä¸­æ°´æœå¯¹åº”çš„æ¬¡æ•°++

//BSTreeNode<string, int>* ret = countTree.Find(str);

auto ret = countTree.Find(str);

if (ret == NULL)

{

countTree.Insert(str, 1);

}

else

{

ret->_value++;

}

}

countTree.InOrder();

}

```